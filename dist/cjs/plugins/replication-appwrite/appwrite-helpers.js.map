{"version":3,"file":"appwrite-helpers.js","names":["appwriteDocToRxDB","appwriteDoc","primaryKey","deletedField","useDoc","Object","keys","forEach","key","startsWith","$id","_deleted"],"sources":["../../../../src/plugins/replication-appwrite/appwrite-helpers.ts"],"sourcesContent":["import type { WithDeleted } from '../../types';\n\nexport function appwriteDocToRxDB<RxDocType>(\n    appwriteDoc: any,\n    primaryKey: string,\n    deletedField: string\n\n): WithDeleted<RxDocType> {\n    const useDoc: any = {};\n    Object.keys(appwriteDoc).forEach(key => {\n        if (!key.startsWith('$')) {\n            useDoc[key] = appwriteDoc[key];\n        }\n    });\n    useDoc[primaryKey] = appwriteDoc.$id;\n    useDoc._deleted = appwriteDoc[deletedField];\n    if (deletedField !== '_deleted') {\n        delete useDoc[deletedField];\n    }\n    return useDoc;\n}\n"],"mappings":";;;;;;AAEO,SAASA,iBAAiBA,CAC7BC,WAAgB,EAChBC,UAAkB,EAClBC,YAAoB,EAEE;EACtB,IAAMC,MAAW,GAAG,CAAC,CAAC;EACtBC,MAAM,CAACC,IAAI,CAACL,WAAW,CAAC,CAACM,OAAO,CAACC,GAAG,IAAI;IACpC,IAAI,CAACA,GAAG,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MACtBL,MAAM,CAACI,GAAG,CAAC,GAAGP,WAAW,CAACO,GAAG,CAAC;IAClC;EACJ,CAAC,CAAC;EACFJ,MAAM,CAACF,UAAU,CAAC,GAAGD,WAAW,CAACS,GAAG;EACpCN,MAAM,CAACO,QAAQ,GAAGV,WAAW,CAACE,YAAY,CAAC;EAC3C,IAAIA,YAAY,KAAK,UAAU,EAAE;IAC7B,OAAOC,MAAM,CAACD,YAAY,CAAC;EAC/B;EACA,OAAOC,MAAM;AACjB","ignoreList":[]}